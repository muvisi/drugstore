
<div class="card">
  <h5 class="card-header">Patient Registration</h5>
  <div class="card-body">
    <form [formGroup]="registerForm">
                
              
      <div class="row">
        <div class="col-sm-12">
          <div class="row">
            
            <div class="col-sm-6">
              <fieldset>
                <legend>Priority</legend>
                <div class="row">
                  <div class="col-sm-12" style="font-family: lato light">
                    <mat-radio-group formControlName="priority" >
                  <div class="row" >
                    <div class="col-sm-4" style="font-family: lato light">
                      <mat-radio-button value="3" checked>Normal</mat-radio-button>
                    </div>
                    <div class="col-sm-4" style="font-family: lato light">
                        <mat-radio-button value="1" >Urgent</mat-radio-button>
                      </div>
                    <div class="col-sm-4" style="font-family: lato light">
                      <mat-radio-button value="2">Vip</mat-radio-button>
                    </div>
              
                  </div>
                </mat-radio-group>
              </div>
                </div>
              </fieldset>
            </div>
            <div class="col-sm-6">
              <fieldset>
                <legend>Gender</legend>
                <div class="row">
                  <div class="col-sm-12">
                    <mat-radio-group  formControlName="gender">
                      <div class="row" >
                         <div class="col-sm-4">
                             <mat-radio-button  value="Male"  style="font-family: lato light" ><b>Male</b></mat-radio-button>
                           </div>
                           <div class="col-sm-4">
                               <mat-radio-button value="Female"  style="font-family: lato light" checked><b>Female</b></mat-radio-button>
                             </div>
                      </div>
                     </mat-radio-group>
                  </div>
                </div>
              </fieldset>
            </div>

          </div>
      <div class="row" style="margin-top: 10px;">
        <div class="col-sm-12">
          <fieldset>
            <legend>Other Details</legend>
            <div class="row">
        
              <div class="col-sm-3">
                <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="Surname" formControlName="last_name">
                      <mat-error *ngIf="f.last_name.errors">Surname <strong>required</strong></mat-error>
                    </mat-form-field>
              </div>
                  
                <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="First Name" formControlName="first_name">
                      
                      <mat-error *ngIf="f.first_name.errors">First Name <strong>required</strong></mat-error>
                    </mat-form-field>
              </div>
              <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="Middle Name" formControlName="other_names">
                     
                      <mat-error *ngIf="f.other_names.errors">Middle Name <strong>required</strong></mat-error>
                    </mat-form-field>
              </div>
            
              </div>
              <div class="col-sm-3">
                  <div class="col-sm-12">
                        <mat-form-field>
                            <mat-label>Visit Type</mat-label>
                            <mat-select  formControlName="visit_type">
                              <mat-option value="NEW">NEW</mat-option>
                              <mat-option value="FOLLOW UP">FOLLOW UP</mat-option>
                              <mat-option value="RESULTS-FOLLOWUP">RESULTS-FOLLOWUP</mat-option>
                              <mat-option value="REFERRAL">REFERRAL</mat-option>
                            </mat-select>
                          </mat-form-field>
                  </div> 
                <div class="col-sm-12">
                  <div class="row">
                    <div class="col-sm-6">
                        <mat-form-field>
                            <mat-label>Code</mat-label>
                            <mat-select  formControlName="code">
                              <mat-option value="+254">+254(Kenya)</mat-option>
                              <mat-option value="+255">+255(Tanzania)</mat-option>
                              <mat-option value="+252">+252(Somalia)</mat-option>
                              <mat-option value="+256">+256(Uganda)</mat-option>
                              <mat-option value="+249">+249(sudan)</mat-option>
  
                            </mat-select>
                          </mat-form-field>
                    </div>
                    <div class="col-sm-6">
                        <mat-form-field >
                            <input matInput placeholder="Phone" formControlName="phone">
                            <mat-error *ngIf="f.phone.errors">Phone <strong>required</strong></mat-error>
          
                          </mat-form-field>
                    </div>
                    
                  </div>
                
            </div>
            <div class="col-sm-12">
              <mat-form-field>
                  <input matInput placeholder="Date of Birth" [maxDate]="maxDate" (ngModelChange)="calculateAge(f.dob.value)" formControlName="dob"  bsDatepicker>
                  <mat-icon matSuffix>date_range</mat-icon> 
                  <mat-error *ngIf="f.dob.errors">Date of birth <strong>required</strong></mat-error>
                </mat-form-field>
          </div> 
           
            
              </div>
             <div class="col-sm-3">
               <!-- <mat-radio-group  formControlName="gender">
                 <div class="row" style="margin-top: 25px;">
                    <div class="col-sm-6">
                        <mat-radio-button  value="Male"  style="font-family: lato light" ><b>Male</b></mat-radio-button>
                      </div>
                      <div class="col-sm-6">
                          <mat-radio-button value="Female"  style="font-family: lato light" checked><b>Female</b></mat-radio-button>
                        </div>
                 </div>
                </mat-radio-group> -->
                
                  
                <div class="col-sm-12">
                    <mat-form-field>
                        <input matInput placeholder="National ID" formControlName="national_id">
                        <mat-error *ngIf="f.national_id.errors">National ID <strong>required</strong></mat-error>
                      </mat-form-field>
                </div> 
                <div class="col-sm-12">
                    <mat-form-field>
                        <input matInput placeholder="Passport No" formControlName="passport_no">
                        <mat-error *ngIf="f.passport_no.errors">Passport <strong>required</strong></mat-error>
                      </mat-form-field>
                </div>
                <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="Email" formControlName="email">
                      <mat-error *ngIf="f.email.errors">Valid email <strong>required</strong></mat-error>
                    </mat-form-field>
              </div>
               
             </div>
             <div class="col-sm-3">
               
                <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="Residence" formControlName="residence">
                    </mat-form-field>
              </div> 
              <div class="col-sm-12">
                  <mat-form-field>
                      <input matInput placeholder="Occupation" formControlName="occupation">
                    </mat-form-field>
              </div> 
             </div>
                  <div class="col-sm-6">
                <mat-checkbox *ngIf="isKin" (change)="addKin= !addKin"><u style="font-weight: 500">Add Next Of Kin</u></mat-checkbox>
            </div>
            <br>
            <div class="col-sm-12">
              <fieldset>
                <legend>Payment Method</legend>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="row">
                      <div class="col-sm-2">  <mat-checkbox>Cash</mat-checkbox>  </div>
                      <div class="col-sm-2"> <mat-checkbox>Insurance</mat-checkbox> </div>
                    </div>
                  </div>
                </div>
              </fieldset>
              <br>
            </div>
            <br>
            <br>
            <div class="col-sm-12" *ngIf="isGuardian">
                <div class="row">
                  <div class="col-sm-12">
                     <fieldset>
                       <legend>Parent/Guardian</legend>
                       <div class="row">
                          <div class="col-sm-3">
                            <mat-form-field>
                                <input type="text" matInput [(ngModel)]="guardian.first_name"
                                placeholder="First Name" [ngModelOptions]="{standalone: true}">
                               
                            </mat-form-field>
                           
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field>
                                  <input type="text" matInput  [(ngModel)]="guardian.other_names"
                                  placeholder="Middle Name" [ngModelOptions]="{standalone: true}">
                                  
                              </mat-form-field>
                           
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field>
                                  <input type="text" placeholder="Last Name" [(ngModel)]="guardian.last_name"
                                   [ngModelOptions]="{standalone: true}" matInput>
                                  
                              </mat-form-field>
                            
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field>
                                  <input type="text" placeholder="D.O.B" [maxDate]="gurdianMin"  [(ngModel)]="guardian.dob" bsDatepicker
                                [ngModelOptions]="{standalone: true}" matInput>
                                  
                                  
                              </mat-form-field>
                            
                          </div>
                          <div class="col-sm-3">
                          
                              <mat-radio-group [(ngModel)]="guardian.gender" [ngModelOptions]="{standalone: true}" >
                                <div class="row"  style="margin-top:20px" >
                                  <div class="col-sm-6">
                                    <mat-radio-button value="Female">Female</mat-radio-button>
                                  </div>
                                  <div class="col-sm-6">
                                    <mat-radio-button value="Male">Male</mat-radio-button>
                                  </div>
                                </div>
                              </mat-radio-group>
                            
                          
                          </div>
                          <div class="col-sm-3">
                              <mat-form-field>
                                  <input type="text"  [(ngModel)]="guardian.national_id"
                                  placeholder="National Id" [ngModelOptions]="{standalone: true}" matInput>                                            
                              </mat-form-field>
                            
                          </div>
                        
                          <div class="col-sm-3">
                              <mat-form-field >
                                  <span class="prefix"  matPrefix>+254 &nbsp;</span>
                                  <input type="text" matInput placeholder="Phone" matInput [(ngModel)]="guardian.phone" [ngModelOptions]="{standalone: true}">
                                </mat-form-field>
                            
                          </div>
                          
                        </div>
                     </fieldset>
                  </div>
                </div>
              </div>
  
              <div class="col-sm-12" *ngIf="addKin">
                  <fieldset>
                    <legend>Next of Kin</legend>
                    <div class="row">
                        <div class="col-sm-12">
                          <div class="row">
                              <div class="col-sm-3">
                                <mat-form-field>
                                    <input type="text" matInput [(ngModel)]="kin.first_name"
                                    placeholder="First Name" [ngModelOptions]="{standalone: true}">
                                    
                                </mat-form-field>
                               
                              </div>
                              <div class="col-sm-3">
                                  <mat-form-field>
                                      <input type="text" matInput  [(ngModel)]="kin.other_names"
                                      placeholder="Middle Name" [ngModelOptions]="{standalone: true}">
                                      
                                  </mat-form-field>
                               
                              </div>
                              <div class="col-sm-3">
                                  <mat-form-field>
                                      <input type="text" placeholder="LAST NAME" [(ngModel)]="kin.last_name"
                                      placeholder="Last Name" [ngModelOptions]="{standalone: true}" matInput>
                                      
                                  </mat-form-field>
                                
                              </div>
                              <div class="col-sm-3">
                                  <mat-form-field>
                                      <input type="text" placeholder="D.O.B" [maxDate]="gurdianMin" [(ngModel)]="kin.dob" bsDatepicker
                                    [ngModelOptions]="{standalone: true}" matInput>                                              
                                  </mat-form-field>
                                
                              </div>
                              <div class="col-sm-3">
                                  <mat-form-field>
                                      <input type="text"  [(ngModel)]="kin.national_id"
                                      placeholder="National Id" [ngModelOptions]="{standalone: true}" matInput>
                                  </mat-form-field>
                                
                              </div>
                              <div class="col-sm-3">
                              
                                  <mat-radio-group [(ngModel)]="kin.gender" [ngModelOptions]="{standalone: true}" >
                                    <div class="row"  style="margin-top:20px" >
                                      <div class="col-sm-6">
                                        <mat-radio-button value="Female">Female</mat-radio-button>
                                      </div>
                                      <div class="col-sm-6">
                                        <mat-radio-button value="Male">Male</mat-radio-button>
                                      </div>
                                    </div>
                                  </mat-radio-group>
                                
                              
                              </div>
                             
                              <div class="col-sm-3">
                                  <mat-form-field >
                                    <span class="prefix"  matPrefix>+254 &nbsp;</span>
                                    <input type="text" matInput placeholder="PHONE" matInput [(ngModel)]="kin.phone" [ngModelOptions]="{standalone: true}">
                            
                                  </mat-form-field>
                            </div>
                        <div class="col-sm-3">
                            <mat-form-field>
                                <mat-label>SELECT RELATIONSHIP</mat-label>
                                <mat-select  [(ngModel)]="kin.relationship" [ngModelOptions]="{standalone: true}">
                                    <mat-option 
                                    *ngFor="let item  of  ['SPOUSE','SON','DAUGHTER','FATHER','MOTHER','SISTER','BROTHER','GUARDIAN']"
                                     [value]="item">
                                      {{item}}
                                    </mat-option>
                                  </mat-select>
                              </mat-form-field>
                        </div>
                            </div>
                        </div>
                      </div>
                  </fieldset>
  
      <div>
      </div>
                </div>
                
          </div>
          </fieldset>
        </div>

      </div>
        <br>
        <button  class="pull-right btn btn-info" (click)="onSubmit()"> <i class="fa fa-plus"></i> Save</button>
        </div> 
          
      </div>
     
    
    </form>
  </div>
</div>


   
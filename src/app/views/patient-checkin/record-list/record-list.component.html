

<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <h5 class="card-header"> <i class="icon-people"></i> Clients Records</h5>



      <a routerLink="/dashboard/new-client/">  <button  class="btn btn-primary pull-right"> <i class="fas fa-pluse"></i> Add Client</button></a>
      <div class="card-body">
        <div class="row">
          <div class="col-sm-12">
            <div class="row">
              <div class="col-sm-4">
                  <mat-form-field>
                      <input matInput [(ngModel)]="search_text" placeholder="Mobile , National id" autocomplete="off" autofocus="off">
                    </mat-form-field>
              </div>
            
            <div class="col-sm-8">
              <button class="btn btn-success pull-left"  (click)="applyFilter()">Search</button>
            </div>
            </div>
          </div>
            <div class="col-sm-12">

                <div class="mat-elevation-z8 table-responsive">
                  <table mat-table [dataSource]="dataSource" matSort>
                      <ng-container matColumnDef="sn">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header>S/N</th>
                          <td mat-cell *matCellDef="let element;let i = index"> {{i+1}} </td>
                  </ng-container>
                        <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header>NAME</th>
                                <td mat-cell *matCellDef="let element"> {{element.first_name | uppercase}} {{element.last_name | uppercase}} </td>
                        </ng-container>
                   

                    <ng-container matColumnDef="phone">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>PHONE</th>
                      <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
                    </ng-container>
                    <ng-container matColumnDef="email">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>EMAIL</th>
                      <td mat-cell *matCellDef="let element"> {{element.email}} </td>
                    </ng-container>
                  
                    <ng-container matColumnDef="create">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>CREATE APPOINTMENT</th>
                      <td mat-cell *matCellDef="let element"> 
                        <!-- <button class="btn btn-success btn-sm" (click)="rowClick(element)">Appointment</button> -->
                        <mat-icon color="primary" (click)="rowClick(element)">add</mat-icon>
                         </td>
                    </ng-container>
                    <ng-container matColumnDef="edit">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>EDIT</th>
                      <td mat-cell *matCellDef="let element"> 
                        <mat-icon color="primary" (click)="edit(element)">create</mat-icon>
                         </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="Columns"></tr>
                    <tr mat-row *matRowDef="let row; columns:Columns;" ></tr>
                  </table>
              
                  <mat-paginator [pageSizeOptions]="[100,200]" showFirstLastButtons></mat-paginator>
                </div>
              </div>
        </div>
      </div>
    </div>
  </div>
</div>



 
<div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}"
     tabindex="-1" role="dialog" aria-labelledby="dialog-static-name">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 id="dialog-static-name" class="modal-title pull-left">Edit Client</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      <form [formGroup]="clientForm"  (ngSubmit)="onSave()">
        <div class="row">
          <div class="col-sm-4">
            <mat-form-field appearance="outline">
              <mat-label>Surname</mat-label>
                <input matInput placeholder="Surname" formControlName="last_name">
                <mat-error *ngIf="f.last_name.errors && submitted">Surname <strong>required</strong></mat-error>
              </mat-form-field>
          </div>
          <div class="col-sm-4">
            <mat-form-field appearance="outline">
              <mat-label>First Name</mat-label>
                <input matInput placeholder="First Name" formControlName="first_name">
                
                <mat-error *ngIf="f.first_name.errors && submitted">First Name <strong>required</strong></mat-error>
              </mat-form-field>
        </div>
        <div class="col-sm-4">
          <mat-form-field appearance="outline">
            <mat-label>Middle</mat-label>
              <input matInput placeholder="Middle Name" formControlName="other_names">
             
              <mat-error *ngIf="f.other_names.errors && submitted">Middle Name <strong>required</strong></mat-error>
            </mat-form-field>
      </div>
       <div class="col-sm-4">
        <mat-radio-group  formControlName="gender">
          <label>Gender</label>
          <div class="row" >
             <div class="col-sm-4">
                 <mat-radio-button  value="Male"  style="font-family: lato light" ><b>Male</b></mat-radio-button>
               </div>
               <div class="col-sm-4">
                   <mat-radio-button value="Female"  style="font-family: lato light" checked><b>Female</b></mat-radio-button>
                 </div>
          </div>
         </mat-radio-group>
       </div>
       <div class="col-sm-4">
        <mat-form-field  appearance="outline">
          <mat-label>Phone</mat-label>
            <input matInput placeholder="Phone" formControlName="phone">
            <mat-error *ngIf="f.phone.errors && submitted">Phone <strong>required</strong></mat-error>

          </mat-form-field>
       </div>
       <div class="col-sm-4">
        <mat-form-field appearance="outline">
          <mat-label>D.O.B</mat-label>
            <input matInput placeholder="Date of Birth" [maxDate]="maxDate" formControlName="dob" [matDatepicker]="picker">
            <mat-error *ngIf="f.dob.errors && submitted">Date of birth <strong>required</strong></mat-error>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
      </div>
      <div class="col-sm-4">
        <mat-form-field appearance="outline">
          <mat-label>National ID</mat-label>
             <input matInput placeholder="National ID" formControlName="national_id">
             <mat-error *ngIf="f.national_id.errors && submitted">National ID <strong>required</strong></mat-error>
           </mat-form-field>
      </div>
      <div class="col-sm-4">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
             <input matInput placeholder="Email" formControlName="email">
             <mat-error *ngIf="f.email.errors && submitted">Valid email <strong>required</strong></mat-error>
        </mat-form-field>
      </div>
      <div class="col-sm-4">
        <mat-form-field appearance="outline">
          <mat-label>Occupation</mat-label>
            <input matInput placeholder="Occupation" formControlName="occupation">
          </mat-form-field>
      </div>
      <div class="col-sm-4">
        <mat-form-field appearance="outline">
          <mat-label>Residence</mat-label>
            <input matInput placeholder="Residence" formControlName="residence">
          </mat-form-field>
    </div>
  <div class="col-sm-8" *ngIf="clientForm.dirty">
  <button class="btn btn-success pull-right">Update</button>
</div>
        </div>
      </form>
      </div>
    </div>
  </div>
</div>